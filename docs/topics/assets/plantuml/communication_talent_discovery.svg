<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1411px" preserveAspectRatio="none" style="width:1238px;height:1411px;" version="1.1" viewBox="0 0 1238 1411" width="1238px" zoomAndPan="magnify"><defs><filter height="300%" id="f1nx1iu1by7nsf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1nx1iu1by7nsf)" height="1277.4688" style="stroke:#000000;stroke-width:2.0;" width="1211.5" x="10" y="58.6094"/><rect fill="#FFFFFF" filter="url(#f1nx1iu1by7nsf)" height="148.4063" style="stroke:#000000;stroke-width:2.0;" width="186.5" x="890" y="224.0703"/><rect fill="#FFFFFF" filter="url(#f1nx1iu1by7nsf)" height="148.4063" style="stroke:#000000;stroke-width:2.0;" width="183.5" x="1028" y="479.8828"/><rect fill="#FFFFFF" filter="url(#f1nx1iu1by7nsf)" height="593.3828" style="stroke:#000000;stroke-width:2.0;" width="698" x="20" y="735.6953"/><rect fill="#FFFFFF" filter="url(#f1nx1iu1by7nsf)" height="205.1641" style="stroke:#000000;stroke-width:2.0;" width="678" x="30" y="804.3984"/><rect fill="#FFFFFF" filter="url(#f1nx1iu1by7nsf)" height="298.5156" style="stroke:#000000;stroke-width:2.0;" width="657" x="51" y="1023.5625"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="77" x2="77" y1="41.6094" y2="1353.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="163" x2="163" y1="41.6094" y2="1353.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="245" x2="245" y1="41.6094" y2="1353.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="373" x2="373" y1="41.6094" y2="1353.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="653" x2="653" y1="41.6094" y2="1353.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="933" x2="933" y1="41.6094" y2="1353.0781"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1071" x2="1071" y1="41.6094" y2="1353.0781"/><rect fill="#ADD8E6" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="71" x="40" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="47" y="26.5332">Ingestion</text><rect fill="#ADD8E6" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="71" x="40" y="1352.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="47" y="1373.6113">Ingestion</text><rect fill="#ADD8E6" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="125" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="132" y="26.5332">Encoding</text><rect fill="#ADD8E6" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="73" x="125" y="1352.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="132" y="1373.6113">Encoding</text><rect fill="#ADD8E6" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="63" x="212" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="219" y="26.5332">Routing</text><rect fill="#ADD8E6" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="63" x="212" y="1352.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="219" y="1373.6113">Routing</text><rect fill="#ADD8E6" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="111" x="316" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="323" y="26.5332">ConfigManager</text><rect fill="#ADD8E6" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="111" x="316" y="1352.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="323" y="1373.6113">ConfigManager</text><rect fill="#778899" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="609" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="616" y="26.5332">Middleware</text><rect fill="#778899" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="609" y="1352.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="616" y="1373.6113">Middleware</text><rect fill="#90EE90" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="63" x="900" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="907" y="26.5332">TalentA</text><rect fill="#90EE90" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="63" x="900" y="1352.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="907" y="1373.6113">TalentA</text><rect fill="#90EE90" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="63" x="1038" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1045" y="26.5332">TalentB</text><rect fill="#90EE90" filter="url(#f1nx1iu1by7nsf)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="63" x="1038" y="1352.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1045" y="1373.6113">TalentB</text><path d="M10,58.6094 L83,58.6094 L83,66.6094 L73,76.6094 L10,76.6094 L10,58.6094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="1277.4688" style="stroke:#000000;stroke-width:2.0;" width="1211.5" x="10" y="58.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="73.1045">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138" x="98" y="72.0283">[discoveryTimerElapsed]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="651.5" x2="641.5" y1="115.6641" y2="111.6641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="651.5" x2="641.5" y1="115.6641" y2="119.6641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="652.5" y1="115.6641" y2="115.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="380.5" y="94.4561">TalentsDiscoveryMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="384.5" y="110.8076">[TALENTS_DISCOVERY_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="931.5" x2="921.5" y1="162.3672" y2="158.3672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="931.5" x2="921.5" y1="162.3672" y2="166.3672"/><line style="stroke:#A80036;stroke-width:1.0;" x1="653.5" x2="932.5" y1="162.3672" y2="162.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="660.5" y="141.1592">TalentsDiscoveryMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="664.5" y="157.5107">[TALENTS_DISCOVERY_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="653.5" x2="663.5" y1="209.0703" y2="205.0703"/><line style="stroke:#A80036;stroke-width:1.0;" x1="653.5" x2="663.5" y1="209.0703" y2="213.0703"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="653.5" x2="932.5" y1="209.0703" y2="209.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="670.5" y="187.8623">TalentsDiscoveryReplyMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="674.5" y="204.2139">[TALENTS_DISCOVERY_RETURN_TOPIC]</text><path d="M890,224.0703 L1061,224.0703 L1061,232.0703 L1051,242.0703 L890,242.0703 L890,224.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="148.4063" style="stroke:#000000;stroke-width:2.0;" width="186.5" x="890" y="224.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="905" y="238.5654">Create Talent Reply</text><line style="stroke:#A80036;stroke-width:1.0;" x1="933.5" x2="975.5" y1="264.7734" y2="264.7734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="975.5" x2="975.5" y1="264.7734" y2="277.7734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="934.5" x2="975.5" y1="277.7734" y2="277.7734"/><polygon fill="#A80036" points="944.5,273.7734,934.5,277.7734,944.5,281.7734,940.5,277.7734" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="940.5" y="259.917">AddRulesToReply()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="933.5" x2="975.5" y1="308.125" y2="308.125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="975.5" x2="975.5" y1="308.125" y2="321.125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="934.5" x2="975.5" y1="321.125" y2="321.125"/><polygon fill="#A80036" points="944.5,317.125,934.5,321.125,944.5,325.125,940.5,321.125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="940.5" y="303.2686">AddOutputsToReply()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="933.5" x2="975.5" y1="351.4766" y2="351.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="975.5" x2="975.5" y1="351.4766" y2="364.4766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="934.5" x2="975.5" y1="364.4766" y2="364.4766"/><polygon fill="#A80036" points="944.5,360.4766,934.5,364.4766,944.5,368.4766,940.5,364.4766" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="940.5" y="346.6201">AddCalleesToReply()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="383.5" y1="418.1797" y2="414.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="383.5" y1="418.1797" y2="422.1797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="373.5" x2="652.5" y1="418.1797" y2="418.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="390.5" y="396.9717">TalentsDiscoveryReplyMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="394.5" y="413.3232">[TALENTS_DISCOVERY_RETURN_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1069.5" x2="1059.5" y1="464.8828" y2="460.8828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1069.5" x2="1059.5" y1="464.8828" y2="468.8828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="653.5" x2="1070.5" y1="464.8828" y2="464.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="660.5" y="443.6748">TalentsDiscoveryMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="664.5" y="460.0264">[TALENTS_DISCOVERY_TOPIC]</text><path d="M1028,479.8828 L1199,479.8828 L1199,487.8828 L1189,497.8828 L1028,497.8828 L1028,479.8828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="148.4063" style="stroke:#000000;stroke-width:2.0;" width="183.5" x="1028" y="479.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="1043" y="494.3779">Create Talent Reply</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1071.5" x2="1113.5" y1="520.5859" y2="520.5859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1113.5" x2="1113.5" y1="520.5859" y2="533.5859"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1072.5" x2="1113.5" y1="533.5859" y2="533.5859"/><polygon fill="#A80036" points="1082.5,529.5859,1072.5,533.5859,1082.5,537.5859,1078.5,533.5859" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="1078.5" y="515.7295">AddRulesToReply()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1071.5" x2="1113.5" y1="563.9375" y2="563.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1113.5" x2="1113.5" y1="563.9375" y2="576.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1072.5" x2="1113.5" y1="576.9375" y2="576.9375"/><polygon fill="#A80036" points="1082.5,572.9375,1072.5,576.9375,1082.5,580.9375,1078.5,576.9375" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1078.5" y="559.0811">AddOutputToReply()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1071.5" x2="1113.5" y1="607.2891" y2="607.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1113.5" x2="1113.5" y1="607.2891" y2="620.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1072.5" x2="1113.5" y1="620.2891" y2="620.2891"/><polygon fill="#A80036" points="1082.5,616.2891,1072.5,620.2891,1082.5,624.2891,1078.5,620.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1078.5" y="602.4326">AddCalleesToReply()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="653.5" x2="663.5" y1="673.9922" y2="669.9922"/><line style="stroke:#A80036;stroke-width:1.0;" x1="653.5" x2="663.5" y1="673.9922" y2="677.9922"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="653.5" x2="1070.5" y1="673.9922" y2="673.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="670.5" y="652.7842">TalentsDiscoveryReplyMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="674.5" y="669.1357">[TALENTS_DISCOVERY_RETURN_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="383.5" y1="720.6953" y2="716.6953"/><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="383.5" y1="720.6953" y2="724.6953"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="373.5" x2="652.5" y1="720.6953" y2="720.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="390.5" y="699.4873">TalentsDiscoveryReplyMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="394.5" y="715.8389">[TALENTS_DISCOVERY_RETURN_TOPIC]</text><path d="M20,735.6953 L185,735.6953 L185,743.6953 L175,753.6953 L20,753.6953 L20,735.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="593.3828" style="stroke:#000000;stroke-width:2.0;" width="698" x="20" y="735.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="116" x="35" y="750.1904">Finalize Discovery</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184" x="200" y="749.1143">[DiscoveryDurationTimerElapsed]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="415.5" y1="776.3984" y2="776.3984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="415.5" x2="415.5" y1="776.3984" y2="789.3984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="374.5" x2="415.5" y1="789.3984" y2="789.3984"/><polygon fill="#A80036" points="384.5,785.3984,374.5,789.3984,384.5,793.3984,380.5,789.3984" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="380.5" y="771.542">RegisterTalentOutputFeatures()</text><path d="M30,804.3984 L95,804.3984 L95,812.3984 L85,822.3984 L30,822.3984 L30,804.3984 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="205.1641" style="stroke:#000000;stroke-width:2.0;" width="678" x="30" y="804.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20" x="45" y="818.8936">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="84" x="110" y="817.8174">[typesUpdated]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="651.5" x2="641.5" y1="861.4531" y2="857.4531"/><line style="stroke:#A80036;stroke-width:1.0;" x1="651.5" x2="641.5" y1="861.4531" y2="865.4531"/><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="652.5" y1="861.4531" y2="861.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="380.5" y="840.2451">TypesUpdateMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="384.5" y="856.5967">[UPDATE_TYPES_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="255.5" y1="908.1563" y2="904.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="255.5" y1="908.1563" y2="912.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="652.5" y1="908.1563" y2="908.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="262.5" y="886.9482">TypesUpdateMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="266.5" y="903.2998">[UPDATE_TYPES_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="163.5" x2="173.5" y1="954.8594" y2="950.8594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163.5" x2="173.5" y1="954.8594" y2="958.8594"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163.5" x2="652.5" y1="954.8594" y2="954.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="180.5" y="933.6514">TypesUpdateMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="184.5" y="950.0029">[UPDATE_TYPES_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="87.5" y1="1001.5625" y2="997.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="87.5" y1="1001.5625" y2="1005.5625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="77.5" x2="652.5" y1="1001.5625" y2="1001.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="94.5" y="980.3545">TypesUpdateMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="98.5" y="996.7061">[UPDATE_TYPES_TOPIC]</text><path d="M51,1023.5625 L230,1023.5625 L230,1031.5625 L220,1041.5625 L51,1041.5625 L51,1023.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="298.5156" style="stroke:#000000;stroke-width:2.0;" width="657" x="51" y="1023.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134" x="66" y="1038.0576">Update Talent Config</text><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="415.5" y1="1064.2656" y2="1064.2656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="415.5" x2="415.5" y1="1064.2656" y2="1077.2656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="374.5" x2="415.5" y1="1077.2656" y2="1077.2656"/><polygon fill="#A80036" points="384.5,1073.2656,374.5,1077.2656,384.5,1081.2656,380.5,1077.2656" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="380.5" y="1059.4092">SetConfig()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="651.5" x2="641.5" y1="1123.9688" y2="1119.9688"/><line style="stroke:#A80036;stroke-width:1.0;" x1="651.5" x2="641.5" y1="1123.9688" y2="1127.9688"/><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="652.5" y1="1123.9688" y2="1123.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="380.5" y="1102.7607">TalentConfigMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="384.5" y="1119.1123">[UPDATE_TALENT_CONFIG_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="383.5" y1="1175.6719" y2="1171.6719"/><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="383.5" y1="1175.6719" y2="1179.6719"/><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="652.5" y1="1175.6719" y2="1175.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="390.5" y="1154.4639">TalentConfigMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="394.5" y="1170.8154">[UPDATE_TALENT_CONFIG_TOPIC]</text><path d="M61,1136.9688 L61,1178.9688 L364,1178.9688 L364,1146.9688 L354,1136.9688 L61,1136.9688 " fill="#FBFB77" filter="url(#f1nx1iu1by7nsf)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M354,1136.9688 L354,1146.9688 L364,1146.9688 L354,1136.9688 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="67" y="1155.4639">ConfigManager uses common async mechanism</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="67" y="1171.8154">to update talent configuration</text><line style="stroke:#A80036;stroke-width:1.0;" x1="373.5" x2="415.5" y1="1211.0234" y2="1211.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="415.5" x2="415.5" y1="1211.0234" y2="1224.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="374.5" x2="415.5" y1="1224.0234" y2="1224.0234"/><polygon fill="#A80036" points="384.5,1220.0234,374.5,1224.0234,384.5,1228.0234,380.5,1224.0234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="380.5" y="1206.167">StoreConfiguration()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="255.5" y1="1270.7266" y2="1266.7266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="255.5" y1="1270.7266" y2="1274.7266"/><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="652.5" y1="1270.7266" y2="1270.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="262.5" y="1249.5186">TalentConfigMsg</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="266.5" y="1265.8701">[UPDATE_TALENT_CONFIG_TOPIC]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="245.5" x2="287.5" y1="1301.0781" y2="1301.0781"/><line style="stroke:#A80036;stroke-width:1.0;" x1="287.5" x2="287.5" y1="1301.0781" y2="1314.0781"/><line style="stroke:#A80036;stroke-width:1.0;" x1="246.5" x2="287.5" y1="1314.0781" y2="1314.0781"/><polygon fill="#A80036" points="256.5,1310.0781,246.5,1314.0781,256.5,1318.0781,252.5,1314.0781" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="252.5" y="1296.2217">StoreConfiguration()</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="151" x="1080.5" y="1403.0684">IoT Event Analytics Version: 0.5</text><!--MD5=[e3d56000a6b45045ec9ab73fe17a659f]
@startuml
/'
  Copyright (c) 2021 Bosch.IO GmbH

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at https://mozilla.org/MPL/2.0/.

  SPDX-License-Identifier: MPL-2.0
'/

    skinparam backgroundColor #FFFFF

    right footer "IoT Event Analytics Version: 0.5"

    participant Ingestion as Ingestion #LightBlue
    participant Encoding as Encoding #LightBlue
    participant Routing as Routing #LightBlue
    participant ConfigManager as ConfigManager #LightBlue

    participant Middleware as Middleware #LightSlateGray

    participant TalentA as TalentA #LightGreen
    participant TalentB as TalentB #LightGreen

    loop discoveryTimerElapsed
        ConfigManager ->> Middleware: TalentsDiscoveryMsg \n [TALENTS_DISCOVERY_TOPIC]

        Middleware ->> TalentA: TalentsDiscoveryMsg \n [TALENTS_DISCOVERY_TOPIC]
        TalentA - ->> Middleware: TalentsDiscoveryReplyMsg \n [TALENTS_DISCOVERY_RETURN_TOPIC]
        group Create Talent Reply
            TalentA -> TalentA: AddRulesToReply()
            TalentA -> TalentA: AddOutputsToReply()
            TalentA -> TalentA: AddCalleesToReply()
        end
        Middleware - ->> ConfigManager: TalentsDiscoveryReplyMsg \n [TALENTS_DISCOVERY_RETURN_TOPIC]

        Middleware ->> TalentB: TalentsDiscoveryMsg \n [TALENTS_DISCOVERY_TOPIC]
        group Create Talent Reply
            TalentB -> TalentB: AddRulesToReply()
            TalentB -> TalentB: AddOutputToReply()
            TalentB -> TalentB: AddCalleesToReply()
        end
        TalentB - ->> Middleware: TalentsDiscoveryReplyMsg \n [TALENTS_DISCOVERY_RETURN_TOPIC]
        Middleware - ->> ConfigManager: TalentsDiscoveryReplyMsg \n [TALENTS_DISCOVERY_RETURN_TOPIC]

        group Finalize Discovery [DiscoveryDurationTimerElapsed]
            ConfigManager -> ConfigManager: RegisterTalentOutputFeatures()

            opt typesUpdated
                ConfigManager ->> Middleware: TypesUpdateMsg \n [UPDATE_TYPES_TOPIC]
                Middleware ->> Routing: TypesUpdateMsg \n [UPDATE_TYPES_TOPIC]
                Middleware ->> Encoding: TypesUpdateMsg \n [UPDATE_TYPES_TOPIC]
                Middleware ->> Ingestion: TypesUpdateMsg \n [UPDATE_TYPES_TOPIC]
            end

            group Update Talent Config
                ConfigManager -> ConfigManager: SetConfig()
                ConfigManager ->> Middleware: TalentConfigMsg \n [UPDATE_TALENT_CONFIG_TOPIC]

                Middleware ->> ConfigManager: TalentConfigMsg \n [UPDATE_TALENT_CONFIG_TOPIC]
                note left
                    ConfigManager uses common async mechanism
                    to update talent configuration
                end note
                ConfigManager -> ConfigManager: StoreConfiguration()

                Middleware ->> Routing: TalentConfigMsg \n [UPDATE_TALENT_CONFIG_TOPIC]
                Routing -> Routing: StoreConfiguration()
            end
        end
    end

@enduml

@startuml

    skinparam backgroundColor #FFFFF

    right footer "IoT Event Analytics Version: 0.5"

    participant Ingestion as Ingestion #LightBlue
    participant Encoding as Encoding #LightBlue
    participant Routing as Routing #LightBlue
    participant ConfigManager as ConfigManager #LightBlue

    participant Middleware as Middleware #LightSlateGray

    participant TalentA as TalentA #LightGreen
    participant TalentB as TalentB #LightGreen

    loop discoveryTimerElapsed
        ConfigManager ->> Middleware: TalentsDiscoveryMsg \n [TALENTS_DISCOVERY_TOPIC]

        Middleware ->> TalentA: TalentsDiscoveryMsg \n [TALENTS_DISCOVERY_TOPIC]
        TalentA - ->> Middleware: TalentsDiscoveryReplyMsg \n [TALENTS_DISCOVERY_RETURN_TOPIC]
        group Create Talent Reply
            TalentA -> TalentA: AddRulesToReply()
            TalentA -> TalentA: AddOutputsToReply()
            TalentA -> TalentA: AddCalleesToReply()
        end
        Middleware - ->> ConfigManager: TalentsDiscoveryReplyMsg \n [TALENTS_DISCOVERY_RETURN_TOPIC]

        Middleware ->> TalentB: TalentsDiscoveryMsg \n [TALENTS_DISCOVERY_TOPIC]
        group Create Talent Reply
            TalentB -> TalentB: AddRulesToReply()
            TalentB -> TalentB: AddOutputToReply()
            TalentB -> TalentB: AddCalleesToReply()
        end
        TalentB - ->> Middleware: TalentsDiscoveryReplyMsg \n [TALENTS_DISCOVERY_RETURN_TOPIC]
        Middleware - ->> ConfigManager: TalentsDiscoveryReplyMsg \n [TALENTS_DISCOVERY_RETURN_TOPIC]

        group Finalize Discovery [DiscoveryDurationTimerElapsed]
            ConfigManager -> ConfigManager: RegisterTalentOutputFeatures()

            opt typesUpdated
                ConfigManager ->> Middleware: TypesUpdateMsg \n [UPDATE_TYPES_TOPIC]
                Middleware ->> Routing: TypesUpdateMsg \n [UPDATE_TYPES_TOPIC]
                Middleware ->> Encoding: TypesUpdateMsg \n [UPDATE_TYPES_TOPIC]
                Middleware ->> Ingestion: TypesUpdateMsg \n [UPDATE_TYPES_TOPIC]
            end

            group Update Talent Config
                ConfigManager -> ConfigManager: SetConfig()
                ConfigManager ->> Middleware: TalentConfigMsg \n [UPDATE_TALENT_CONFIG_TOPIC]

                Middleware ->> ConfigManager: TalentConfigMsg \n [UPDATE_TALENT_CONFIG_TOPIC]
                note left
                    ConfigManager uses common async mechanism
                    to update talent configuration
                end note
                ConfigManager -> ConfigManager: StoreConfiguration()

                Middleware ->> Routing: TalentConfigMsg \n [UPDATE_TALENT_CONFIG_TOPIC]
                Routing -> Routing: StoreConfiguration()
            end
        end
    end

@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>